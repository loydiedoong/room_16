<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Winter Diagnostic Executive Brief</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom Font Overrides for that "Financial Report" feel */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@400;600;700&display=swap');

        :root {
            --gs-navy: #0C1C2E;
            --gs-blue: #1E3A5F;
            --gs-gold: #C5A983;
            --gs-gray: #F4F5F7;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--gs-gray);
            color: #333;
        }

        h1, h2, h3, .serif-font {
            font-family: 'Playfair Display', serif;
        }

        .gs-btn-active {
            background-color: var(--gs-navy);
            color: white;
            border-color: var(--gs-navy);
        }

        .gs-btn-inactive {
            background-color: white;
            color: var(--gs-navy);
            border: 1px solid #E5E7EB;
        }

        .gs-card {
            background: white;
            border: 1px solid #E5E7EB;
            border-top: 3px solid var(--gs-navy);
        }

        .gs-table-header {
            background-color: #F9FAFB;
            border-bottom: 2px solid var(--gs-navy);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: 0.75rem;
            color: var(--gs-navy);
        }

        .metric-value {
            font-variant-numeric: tabular-nums;
        }
        
        /* Subtle gold highlight for emphasis */
        .gold-accent {
            color: var(--gs-gold);
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Navigation / Header -->
    <header class="bg-[#0C1C2E] text-white border-b-4 border-[#C5A983] sticky top-0 z-50 shadow-lg">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-4">
                <div class="bg-white/10 p-2 rounded-sm">
                    <i data-lucide="bar-chart-2" class="w-6 h-6 text-[#C5A983]"></i>
                </div>
                <div>
                    <h1 class="text-xl font-semibold tracking-wide uppercase">Daniel Webster Elementary</h1>
                    <p class="text-xs text-gray-300 font-sans uppercase tracking-wider">Winter Diagnostic 2025-26</p>
                </div>
            </div>
            <div class="flex gap-0">
                <button onclick="switchTab('reading')" id="btn-reading" class="gs-btn-active px-6 py-2 text-sm font-medium transition-all border-r border-white/20 first:rounded-l-sm">
                    Reading Analysis
                </button>
                <button onclick="switchTab('math')" id="btn-math" class="gs-btn-inactive px-6 py-2 text-sm font-medium transition-all last:rounded-r-sm">
                    Math Analysis
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 py-8">
        
        <!-- Date Stamp -->
        <div class="flex justify-between items-end mb-6 border-b border-gray-300 pb-2">
            <h2 id="report-title" class="text-2xl text-[#0C1C2E] font-bold">Reading Performance Overview</h2>
            <span class="text-sm text-gray-500 font-mono">REPORT_ID: W-25-DIAG</span>
        </div>

        <!-- Executive Summary Cards -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
            <!-- Proficiency -->
            <div class="gs-card p-5">
                <div class="flex justify-between items-start mb-2">
                    <span class="text-xs font-bold uppercase tracking-widest text-gray-500">Proficiency</span>
                    <i data-lucide="award" class="w-4 h-4 text-[#0C1C2E]"></i>
                </div>
                <div class="text-4xl font-serif text-[#0C1C2E] mb-1" id="summary-prof">--%</div>
                <div class="text-xs font-medium" id="summary-prof-change">--</div>
            </div>

            <!-- Annual Growth -->
            <div class="gs-card p-5">
                <div class="flex justify-between items-start mb-2">
                    <span class="text-xs font-bold uppercase tracking-widest text-gray-500">Met Annual Goal</span>
                    <i data-lucide="trending-up" class="w-4 h-4 text-green-700"></i>
                </div>
                <div class="text-4xl font-serif text-[#0C1C2E] mb-1" id="summary-growth">--%</div>
                <div class="text-xs text-gray-500">Students met full year target</div>
            </div>

            <!-- Risk -->
            <div class="gs-card p-5 border-t-red-600">
                <div class="flex justify-between items-start mb-2">
                    <span class="text-xs font-bold uppercase tracking-widest text-gray-500">Regression Alert</span>
                    <i data-lucide="alert-triangle" class="w-4 h-4 text-red-600"></i>
                </div>
                <div class="text-4xl font-serif text-red-700 mb-1" id="summary-stagnation">--%</div>
                <div class="text-xs text-gray-500">Stagnation or Regression</div>
            </div>

            <!-- Key Driver -->
            <div class="gs-card p-5">
                <div class="flex justify-between items-start mb-2">
                    <span class="text-xs font-bold uppercase tracking-widest text-gray-500">Primary Driver</span>
                    <i data-lucide="target" class="w-4 h-4 text-blue-600"></i>
                </div>
                <div class="text-lg font-bold text-[#0C1C2E] mb-1 leading-tight" id="summary-domain-name">--</div>
                <div class="text-xs text-gray-500" id="summary-domain-val">--% Proficient</div>
            </div>
        </div>

        <!-- Split View: Analysis & Teacher Table -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
            
            <!-- Left Column: Domain Analysis -->
            <div class="lg:col-span-1">
                <div class="bg-white p-6 border border-gray-200 shadow-sm h-full">
                    <h3 class="text-lg font-bold text-[#0C1C2E] mb-6 pb-2 border-b border-gray-100">Domain Proficiency</h3>
                    <div id="domain-container" class="space-y-6">
                        <!-- Domain bars injected here -->
                    </div>
                    <div class="mt-8 p-4 bg-gray-50 border-l-4 border-[#C5A983] text-sm text-gray-700 italic">
                        "Instructional focus required on underperforming domains to ensure comprehensive mastery."
                    </div>
                </div>
            </div>

            <!-- Right Column: Detailed Teacher Metrics -->
            <div class="lg:col-span-2">
                <div class="bg-white border border-gray-200 shadow-sm">
                    <div class="p-6 border-b border-gray-100 flex justify-between items-center">
                        <h3 class="text-lg font-bold text-[#0C1C2E]">Classroom Performance Matrix</h3>
                        <span class="text-xs uppercase bg-gray-100 px-2 py-1 rounded text-gray-600">YTD Data</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-sm">
                            <thead>
                                <tr class="gs-table-header">
                                    <th class="p-4">Educator</th>
                                    <th class="p-4">Count</th>
                                    <th class="p-4">Proficiency</th>
                                    <th class="p-4">Growth Target</th>
                                    <th class="p-4 text-red-700">Regression</th>
                                    <th class="p-4">Status</th>
                                </tr>
                            </thead>
                            <tbody id="teacher-table-body" class="divide-y divide-gray-100">
                                <!-- Rows injected here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Student Spotlights (High Velocity vs Risk) -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
            <!-- High Performers -->
            <div class="bg-white border border-gray-200">
                <div class="p-4 border-b border-gray-200 bg-green-50/50 flex justify-between items-center">
                    <h3 class="font-bold text-green-900 font-serif">High Growth Students</h3>
                    <i data-lucide="trending-up" class="w-4 h-4 text-green-700"></i>
                </div>
                <div class="p-0 max-h-80 overflow-y-auto" id="high-flyers-list">
                    <!-- List items injected here -->
                </div>
            </div>

            <!-- Watch List -->
            <div class="bg-white border border-gray-200">
                <div class="p-4 border-b border-gray-200 bg-red-50/50 flex justify-between items-center">
                    <h3 class="font-bold text-red-900 font-serif">Intervention Watch List</h3>
                    <i data-lucide="alert-octagon" class="w-4 h-4 text-red-700"></i>
                </div>
                <div class="p-0 max-h-80 overflow-y-auto" id="intervention-list">
                    <!-- List items injected here -->
                </div>
            </div>
        </div>

        <!-- Strategic Recommendations -->
        <div class="mb-12">
            <h3 class="text-xl font-bold text-[#0C1C2E] mb-4 font-serif">Strategic Action Plan</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="recommendations-container">
                <!-- Recommendations injected here -->
            </div>
        </div>
        
        <footer class="text-center text-xs text-gray-400 py-6 border-t border-gray-200">
            <p>CONFIDENTIAL • INTERNAL USE ONLY • 2025-2026 ACADEMIC YEAR</p>
        </footer>

    </main>

    <!-- Data & Application Logic -->
    <script>
        // --- DATA CONSTANTS ---
        const READING_DATA = {
            title: "Reading Performance Overview",
            summary: {
                proficiency: 11.3,
                proficiencyChange: 4.0,
                metAnnualGrowth: 30.5,
                stagnation: 33.8,
                topDomain: { name: "Phonics", value: 61.9 },
                bottomDomain: { name: "Informational Text", value: 11.2 },
                domains: [
                    { name: "Phonics", value: 61.9 },
                    { name: "Lit Comprehension", value: 23.1 },
                    { name: "Vocabulary", value: 15.7 },
                    { name: "Info Text", value: 11.2 },
                ]
            },
            grades: [
                {
                    grade: "Grade 3",
                    analysis: "High variance between cohorts.",
                    teachers: [
                        { name: "Doong", students: 23, proficient: 21.7, metGrowth: 69.6, regression: 4.3, status: "Exemplary Model" },
                        { name: "Griffin", students: 24, proficient: 12.5, metGrowth: 12.5, regression: 66.7, status: "Critical Support Needed" }
                    ]
                },
                {
                    grade: "Grade 4",
                    analysis: "Stable but low growth velocity.",
                    teachers: [
                        { name: "Sheiring", students: 26, proficient: 11.5, metGrowth: 34.6, regression: 23.1, status: "Monitoring" },
                        { name: "Sutter", students: 24, proficient: 12.5, metGrowth: 33.3, regression: 20.8, status: "Monitoring" }
                    ]
                },
                {
                    grade: "Grade 5",
                    analysis: "Significant regression detected.",
                    teachers: [
                        { name: "Long", students: 29, proficient: 10.3, metGrowth: 17.2, regression: 44.8, status: "Intervention Required" },
                        { name: "Lopez", students: 15, proficient: 0.0, metGrowth: 20.0, regression: 40.0, status: "Data Incomplete" }
                    ]
                }
            ],
            students: {
                highFlyers: [
                    { name: "Reyes Cabrera, Jose", teacher: "Doong", growth: 109, note: "Grade 1 -> Mid 3" },
                    { name: "Salazar Solares, Jose", teacher: "Doong", growth: 80, note: "Grade 1 -> Early 3" },
                    { name: "Estrada, Abraham", teacher: "Doong", growth: 62, note: "Grade K -> Grade 1" },
                    { name: "Chen, Eason", teacher: "Griffin", growth: 61, note: "Grade 1 -> Grade 2" },
                    { name: "Nan, Lillian", teacher: "Sheiring", growth: 52, note: "Grade 3 -> Mid 4" },
                    { name: "Sitt, John", teacher: "Long", growth: 52, note: "Early 5 -> Late 5" },
                    { name: "Resendiz, Andrew", teacher: "Lopez", growth: 59, note: "Grade K -> Grade 1" },
                ],
                intervention: [
                    { name: "Catiis, Rayliegh", teacher: "Griffin", growth: -93, note: "Validity Error Likely" },
                    { name: "Gualoto Pineda, Mathias", teacher: "Lopez", growth: -91, note: "Severe Drop" },
                    { name: "Padayhag, Selyna", teacher: "Griffin", growth: -62, note: "Grade K Level" },
                    { name: "Tongol, William David", teacher: "Long", growth: -46, note: "Grade K Level" },
                    { name: "Perez, Casey", teacher: "Sutter", growth: -31, note: "Dropped from Proficient" },
                ]
            },
            recommendations: [
                { title: "Compliance Audit (Lopez)", text: "Immediate makeup testing required for 10 missing students. Current dataset is statistically invalid without full roster." },
                { title: "Validity Check (Griffin)", text: "67% regression is a statistical anomaly. Perhaps investigate testing environment integrity." },
                { title: "Differentiatation (General)", text: "Try using iReady's instructional grouping to differentiate content for struggling students. Try increasing student movement, voice, reflection and feedback." }
            ]
        };

        const MATH_DATA = {
            title: "Math Performance Overview",
            summary: {
                proficiency: 29.8,
                proficiencyChange: 9.3,
                metAnnualGrowth: 18.5,
                stagnation: 24.5,
                topDomain: { name: "Number & Ops", value: 42.4 },
                bottomDomain: { name: "Geometry", value: 25.8 },
                domains: [
                    { name: "Number & Ops", value: 42.4 },
                    { name: "Algebra", value: 37.7 },
                    { name: "Measurement", value: 37.1 },
                    { name: "Geometry", value: 25.8 },
                ]
            },
            grades: [
                {
                    grade: "Grade 3",
                    analysis: "Strongest growth engine in the school.",
                    teachers: [
                        { name: "Doong", students: 23, proficient: 30.4, metGrowth: 17.4, regression: 0.0, status: "Exemplary Model" },
                        { name: "Griffin", students: 24, proficient: 20.8, metGrowth: 29.2, regression: 25.0, status: "High Variance" }
                    ]
                },
                {
                    grade: "Grade 4",
                    analysis: "Instructional interference causing drag.",
                    teachers: [
                        { name: "Sheiring", students: 26, proficient: 34.6, metGrowth: 19.2, regression: 26.9, status: "Monitoring" },
                        { name: "Sutter", students: 24, proficient: 37.5, metGrowth: 12.5, regression: 29.2, status: "Stagnant" }
                    ]
                },
                {
                    grade: "Grade 5",
                    analysis: "Retention failure in Unit 2 material.",
                    teachers: [
                        { name: "Long", students: 29, proficient: 34.5, metGrowth: 20.7, regression: 27.6, status: "Concern" },
                        { name: "Lopez", students: 25, proficient: 20.0, metGrowth: 12.0, regression: 36.0, status: "Critical Support Needed" }
                    ]
                }
            ],
            students: {
                highFlyers: [
                    { name: "Lozano Camacho, Marcus", teacher: "Doong", growth: 37, note: "137% of Goal" },
                    { name: "Abad, Caitlyn", teacher: "Doong", growth: 34, note: "126% of Goal" },
                    { name: "Regado, Scarlett", teacher: "Griffin", growth: 44, note: "High Velocity" },
                    { name: "Ferrer Castrillo, Kristal", teacher: "Sheiring", growth: 45, note: "High Velocity" },
                    { name: "De Guzman, Joachim", teacher: "Lopez", growth: 181, note: "Outlier / Exclude" },
                ],
                intervention: [
                    { name: "Catanyag, Anzel Jeric", teacher: "Lopez", growth: -26, note: "Dropped to Below Basic" },
                    { name: "Ferrer Castrillo, Ashlet", teacher: "Long", growth: -18, note: "Critical Tier 3 Needed" },
                    { name: "Montenegro, John", teacher: "Sheiring", growth: -19, note: "High achiever disengaged" },
                    { name: "Martinez, Emiliano", teacher: "Griffin", growth: -16, note: "Regression" },
                ]
            },
            recommendations: [
                { title: "Curriculum Bridge (Grade 5)", text: "Pause Unit 3. Implement 1-week conceptual bridge (money models) to reteach Fraction-Decimal conversion." },
                { title: "Fluency Maintenance (Grade 4)", text: "Integrate 'Area Model' multiplication daily to prevent skill regression in Unit 2 material." },
                { title: "Instructional Coaching (Lopez)", text: "Cohort requires instructional coach to co-plan. Current strategy is not yielding learning impact." }
            ]
        };

        // --- RENDER LOGIC ---

        function renderDashboard(data) {
            // 1. Update Text Headers
            document.getElementById('report-title').textContent = data.title;

            // 2. Update Summary Cards
            const profChange = data.summary.proficiencyChange;
            const profSign = profChange > 0 ? '+' : '';
            const profColor = profChange > 0 ? 'text-green-700' : 'text-red-700';
            
            document.getElementById('summary-prof').textContent = data.summary.proficiency + '%';
            const changeEl = document.getElementById('summary-prof-change');
            changeEl.innerHTML = `<span class="${profColor} font-bold">${profSign}${profChange}%</span> vs prev quarter`;

            document.getElementById('summary-growth').textContent = data.summary.metAnnualGrowth + '%';
            document.getElementById('summary-stagnation').textContent = data.summary.stagnation + '%';
            
            document.getElementById('summary-domain-name').textContent = data.summary.topDomain.name;
            document.getElementById('summary-domain-val').textContent = data.summary.topDomain.value + '% Proficient';

            // 3. Render Domains (Progress Bars)
            const domainContainer = document.getElementById('domain-container');
            domainContainer.innerHTML = '';
            data.summary.domains.forEach((d, idx) => {
                const barColor = idx === 0 ? 'bg-[#0C1C2E]' : 'bg-gray-300';
                const html = `
                    <div>
                        <div class="flex justify-between mb-1">
                            <span class="text-sm font-bold text-gray-700">${d.name}</span>
                            <span class="text-sm font-mono text-gray-500">${d.value}%</span>
                        </div>
                        <div class="w-full bg-gray-100 h-2 mb-1 border border-gray-200">
                            <div class="${barColor} h-full" style="width: ${d.value}%"></div>
                        </div>
                    </div>
                `;
                domainContainer.innerHTML += html;
            });

            // 4. Render Teacher Table
            const tableBody = document.getElementById('teacher-table-body');
            tableBody.innerHTML = '';
            
            data.grades.forEach(grade => {
                // Add Grade Header Row
                tableBody.innerHTML += `
                    <tr class="bg-gray-50 border-b border-gray-200">
                        <td colspan="6" class="px-4 py-2">
                            <span class="font-bold text-[#0C1C2E]">${grade.grade}</span>
                            <span class="text-xs text-gray-500 ml-2 italic">- ${grade.analysis}</span>
                        </td>
                    </tr>
                `;

                grade.teachers.forEach(teacher => {
                    // Determine status color
                    let statusClass = "text-gray-500";
                    if (teacher.status.includes("Exemplary") || teacher.status.includes("Strong")) statusClass = "text-green-700 font-bold";
                    if (teacher.status.includes("Critical") || teacher.status.includes("Intervention") || teacher.status.includes("Support")) statusClass = "text-red-700 font-bold";

                    const row = `
                        <tr class="hover:bg-blue-50 transition-colors">
                            <td class="p-4 font-serif font-medium text-[#0C1C2E]">${teacher.name}</td>
                            <td class="p-4 text-gray-500 metric-value">${teacher.students}</td>
                            <td class="p-4 font-bold metric-value">${teacher.proficient}%</td>
                            <td class="p-4 text-blue-700 metric-value">${teacher.metGrowth}%</td>
                            <td class="p-4 text-red-600 metric-value">${teacher.regression}%</td>
                            <td class="p-4 text-xs ${statusClass}">${teacher.status}</td>
                        </tr>
                    `;
                    tableBody.innerHTML += row;
                });
            });

            // 5. Render Student Lists
            const renderList = (containerId, students, isHigh) => {
                const container = document.getElementById(containerId);
                container.innerHTML = '';
                students.forEach((s, i) => {
                    const scoreClass = isHigh ? 'text-green-700' : 'text-red-700';
                    const scoreSign = s.growth > 0 ? '+' : '';
                    const bgClass = i % 2 === 0 ? 'bg-white' : 'bg-gray-50';
                    
                    const item = `
                        <div class="p-3 border-b border-gray-100 ${bgClass} flex justify-between items-center">
                            <div>
                                <div class="text-sm font-bold text-gray-800">${s.name}</div>
                                <div class="text-xs text-gray-500 font-serif italic">${s.teacher} • ${s.note}</div>
                            </div>
                            <div class="font-mono font-bold ${scoreClass}">
                                ${scoreSign}${s.growth}
                            </div>
                        </div>
                    `;
                    container.innerHTML += item;
                });
            };
            renderList('high-flyers-list', data.students.highFlyers, true);
            renderList('intervention-list', data.students.intervention, false);

            // 6. Recommendations
            const recContainer = document.getElementById('recommendations-container');
            recContainer.innerHTML = '';
            data.recommendations.forEach(rec => {
                const card = `
                    <div class="bg-white p-6 border border-gray-200 border-t-4 border-[#C5A983] shadow-sm">
                        <h4 class="font-bold text-[#0C1C2E] mb-3 font-serif">${rec.title}</h4>
                        <p class="text-sm text-gray-600 leading-relaxed">${rec.text}</p>
                    </div>
                `;
                recContainer.innerHTML += card;
            });
        }

        // --- EVENT HANDLING ---

        function switchTab(tab) {
            const readingBtn = document.getElementById('btn-reading');
            const mathBtn = document.getElementById('btn-math');
            
            // Toggle Button Styles
            if (tab === 'reading') {
                readingBtn.className = "gs-btn-active px-6 py-2 text-sm font-medium transition-all border-r border-white/20 first:rounded-l-sm";
                mathBtn.className = "gs-btn-inactive px-6 py-2 text-sm font-medium transition-all last:rounded-r-sm";
                renderDashboard(READING_DATA);
            } else {
                mathBtn.className = "gs-btn-active px-6 py-2 text-sm font-medium transition-all last:rounded-r-sm";
                readingBtn.className = "gs-btn-inactive px-6 py-2 text-sm font-medium transition-all border-r border-gray-200 first:rounded-l-sm";
                renderDashboard(MATH_DATA);
            }
            
            // Re-initialize icons
            lucide.createIcons();
        }

        // Initial Render
        document.addEventListener('DOMContentLoaded', () => {
            switchTab('reading');
        });

    </script>
</body>
</html>
